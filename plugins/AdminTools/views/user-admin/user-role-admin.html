<script type="text/javascript">
    $(document).ready(function () {
        $("form").confirmDeleteClick();
        $("#user_role_name").singleValidate();
        $('button[type="submit"]').on('click', function () {
            var item = this;
            if ($(item).hasClass('disabled')) return false;
            $(item).removeClass("btn-primary").addClass("btn-warning disabled");
            $("i", item).removeClass("icon-ok").append(spinner());
            $.post("{{self_url}}", $(".ajax-form").serializeObject(item), function (data, textStatus, request) {
                ajaxInputError(request);
                $(item).delay(100).queue(function (refresh) {
                    $(this).removeClass("disabled btn-warning").addClass("btn-primary");
                    $(".ajax-spinner-image").remove();
                    $("i", this).addClass("icon-ok");
                    refresh();
                })
            });
            return false;
        });
    });
</script>
<form action="{{self_url}}" method="post" class="validate ajax-form">
    <div class="row">
        <div class="span4">
			<fieldset>
				<legend>{{#i}}Role Detail{{/i}}</legend>
				{{#user_role_id}}
                <p>
				    <label for="user_role_id">{{#i}}ID{{/i}}</label>
				    <input id="user_role_id" type="text" name="user_role_id" value="{{user_role_id}}" readonly>
                </p>
                {{/user_role_id}}
                <p>
				    <label for="user_role_name">{{#i}}Name{{/i}}</label>
				    <input id="user_role_name" type="text" name="user_role_name" value="{{user_role_name}}" required="required" data-id="{{user_role_id}}">
                </p>
                <p>
				    <label for="user_role_note">{{#i}}Notes{{/i}}</label>
				    <textarea id="user_role_note" name="user_role_note" data-action="auto-expand">{{user_role_note}}</textarea>
                </p>
            </fieldset>
            <fieldset>
                <legend>{{#i}}Tags{{/i}}</legend>
                {{{tagger}}}
            </fieldset>
		</div>
		<div class="span4">
			<fieldset>
				<legend>{{#i}}Role Access Permission{{/i}}</legend>
				<label class="checkbox"><input type="checkbox" class="checkall"> <strong>{{#i}}Select All{{/i}}</strong></label>
                <ul class="selectcheckboxes unstyled">
                    {{{nodes_select}}}
                </ul>
			</fieldset>
        </div>
        <div class="span4">
            <fieldset>
                <legend>&nbsp;</legend>
                <p>
                    <button type="submit" name="save" value="save" class="btn btn-primary"><i class="icon-ok icon-white"></i></button>
                    <button type="submit" name="new" value="new" class="btn btn-success"><i class="icon-plus icon-white"></i></button>
                    <button type="reset" name="reset" value="reset" class="btn"><i class="icon-refresh"></i></button>
                    {{#delete_url}}
                    <a href="{{delete_url}}" class="btn btn-warning confirm-delete-click" data-via-ajax="page"><i class="icon-trash icon-white"></i></a>
                    {{/delete_url}}
                    <a href="{{list_url}}" class="btn btn-inverse pull-right" data-via-ajax="page"><i class="icon-align-justify icon-white"></i></a>
                </p>
            </fieldset>
		</div>
	</div>
</form>

